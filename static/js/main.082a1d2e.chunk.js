(this.webpackJsonpshopping_tracking_list=this.webpackJsonpshopping_tracking_list||[]).push([[0],{106:function(e,t,r){},132:function(e,t,r){"use strict";r.r(t);var n=r(0),c=r.n(n),i=r(9),a=r.n(i),o=(r(106),r(84)),s=r.n(o),u=r(37),d=r(13),l=r(22),m=r(68),j=r.n(m),b=r(165),p=r(169),h=r(170),O=r(3),v=function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(b.a,{position:"static",children:Object(O.jsxs)(p.a,{children:[Object(O.jsx)(h.a,{className:"delivery"===e.currentTab?j.a.activeTab:null,color:"inherit",onClick:function(){e.changeCurrentTab("delivery")},children:"Delivery"}),Object(O.jsx)(h.a,{className:"archiveItems"===e.currentTab?j.a.activeTab:null,color:"inherit",onClick:function(){e.changeCurrentTab("archiveItems")},children:"Archive items"})]})})})},f=r(181),y=function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(f.a,{open:e.open,onClose:e.close,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:e.children})})},x=r(12),I=r(27),_=r.n(I),g=r(15),N=r(56),C=r.n(N),S="FETCH_PRODUCTS_SUCCESS",R="FETCH_PRODUCT_ERROR",E="PURCHASE_ITEM",A="ARCHIVE_ITEM",P="REACTIVE_ITEM",w="FETCH_CURRENCY_SUCCESS",L="FETCH_CURRENCY_ERROR",T="CHANGE_CURRENCY",k=function(e){return{type:P,itemIndex:e}},F=function(){return function(e){C.a.get("https://fakestoreapi.com/products").then((function(t){e({type:S,products:t})})).catch((function(){e({type:R})}))}},D=function(){return function(e){C.a.get("http://api.exchangeratesapi.io/v1/latest?access_key=a7fa6f92749688036f91e45c20e4bf94&symbols=USD,ILS").then((function(t){var r=t.data.rates.ILS/t.data.rates.USD;e(function(e){return{type:w,ratio:e}}(r))})).catch((function(){e({type:L})}))}},W=function(e){var t=!0;return e.length>0&&""===e.trim()&&(t=!1),t},B=function(e){var t=!0;return(isNaN(e)||e<=0)&&(t=!1),t},H=r(179),U=r(184),q=r(182),M=Object(g.b)((function(e){return{products:e.productsReducer.products,currency:e.currencyReducer.currency,ratioILS:e.currencyReducer.ratioILS}}),(function(e){return{purchaseItem:function(t){return e(function(e){return{type:E,item:e}}(t))}}}))((function(e){var t=Object(n.useState)({itemName:"",storeName:"",price:"",receiveDateEstimation:""}),r=Object(l.a)(t,2),c=r[0],i=r[1],a=Object(n.useState)([]),o=Object(l.a)(a,2),s=o[0],u=o[1],d=function(e){i(Object(x.a)(Object(x.a)({},c),e))},m=function(){var e,t=[];return W(c.itemName)&&0!==c.itemName.length||t.push("Item name is not valid"),W(c.storeName)&&0!==c.storeName.length||t.push("Store name is not valid"),B(c.price)||t.push("Price is invalid"),e=c.receiveDateEstimation,("Invalid Date"===new Date(e)||0===c.receiveDateEstimation.length)&&t.push("Date is invalid"),u(t),0===t.length};return Object(O.jsxs)("div",{className:_.a.container,children:[Object(O.jsx)("h3",{children:"Add Item"}),Object(O.jsx)(H.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",className:_.a.dropdown,onChange:function(t){var r=e.products[t.target.value],n={itemName:r.title,price:(r.price*e.ratioILS).toFixed(2)};d(n)},children:e.products.map((function(t,r){return Object(O.jsx)(U.a,{value:r,children:Object(O.jsxs)("div",{className:_.a.dropdownOption,children:[Object(O.jsx)("span",{className:_.a.dropdownOptionLeft,children:t.title}),Object(O.jsxs)("span",{className:_.a.dropdownOptionRight,children:[(t.price*e.ratioILS).toFixed(2),e.currency]})]})},r)}))}),Object(O.jsxs)("form",{className:_.a.form,noValidate:!0,autoComplete:"off",children:[Object(O.jsxs)("span",{children:[Object(O.jsx)(q.a,{value:c.itemName,onChange:function(e){d({itemName:e.target.value})},label:"Item name",variant:"outlined",error:0!==c.itemName.length&&!W(c.itemName)}),Object(O.jsx)(q.a,{value:c.storeName,onChange:function(e){d({storeName:e.target.value})},label:"Store",variant:"outlined",error:0!==c.storeName.length&&!W(c.storeName)})]}),Object(O.jsxs)("span",{children:[Object(O.jsx)(q.a,{value:c.price,onChange:function(e){(0===e.target.value.length||B(+e.target.value))&&d({price:+e.target.value})},label:"Price in "+e.currency,variant:"outlined",error:0!==c.price.length&&!B(+c.price)}),Object(O.jsx)(q.a,{id:"date",label:"Receive date estimation",type:"date",variant:"outlined",value:c.receiveDateEstimation,onChange:function(e){d({receiveDateEstimation:e.target.value})},InputLabelProps:{shrink:!0}})]})]}),Object(O.jsx)("div",{children:s.map((function(e,t){return Object(O.jsx)("div",{className:_.a.error,children:e},t)}))}),Object(O.jsxs)("span",{className:_.a.buttonsContainer,children:[Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){if(m()){var t=+c.price;"\u20aa"===e.currency&&(t/=e.ratioILS),e.purchaseItem(Object(x.a)(Object(x.a)({},c),{},{price:t}))}},children:"Add"}),Object(O.jsx)(h.a,{variant:"contained",color:"secondary",onClick:e.close,children:"Cancel"})]})]})})),Y=r(133),$=r(173),V=r(174),X=r(175),J=r(176),Z=r(177),z=r(178),G=r(180),K=Object(g.b)((function(e){return{currency:e.currencyReducer.currency,ratioILS:e.currencyReducer.ratioILS}}))((function(e){var t=c.a.useState(0),r=Object(l.a)(t,2),n=r[0],i=r[1],a=c.a.useState(10),o=Object(l.a)(a,2),s=o[0],u=o[1];return Object(O.jsxs)(Y.a,{children:[Object(O.jsx)($.a,{children:Object(O.jsxs)(V.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(O.jsx)(X.a,{children:Object(O.jsx)(J.a,{children:e.columns.map((function(e){return Object(O.jsx)(Z.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(O.jsx)(z.a,{children:e.items.slice(n*s,n*s+s).map((function(t,r){return Object(O.jsx)(J.a,{hover:!0,role:"checkbox",tabIndex:-1,children:e.columns.map((function(n){if("action"===n.id)return Object(O.jsx)(Z.a,{align:n.align,children:Object(O.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){e.actionFunc(r)},children:e.actionLabel})},n.id);var c=t[n.id];return"price"===n.id&&("\u20aa"===e.currency&&(c*=e.ratioILS),c=c.toFixed(2),c+=e.currency),Object(O.jsx)(Z.a,{align:n.align,children:n.format&&"number"===typeof c?n.format(c):c},n.id)}))},r)}))})]})}),e.showPagination?Object(O.jsx)(G.a,{rowsPerPageOptions:[10,25,100],component:"div",count:e.items.length,rowsPerPage:s,page:n,onPageChange:function(e,t){i(t)},onRowsPerPageChange:function(e){u(+e.target.value),i(0)}}):null]})})),Q=r(61),ee=r.n(Q),te=[{id:"itemName",label:"Item name",minWidth:170},{id:"storeName",label:"Store name",minWidth:100},{id:"price",label:"Price",minWidth:170,format:function(e){return e}},{id:"deliveryEstimation",label:"Delivery estimation",minWidth:170},{id:"action",label:"Action",minWidth:170,align:"right"}],re=Object(g.b)((function(e){return{deliveryItems:e.productsReducer.deliveryItems}}),(function(e){return{archiveItem:function(t){return e(function(e){return{type:A,itemIndex:e}}(t))}}}))((function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),c=r[0],i=r[1],a=function(){i(!c)};return Object(O.jsxs)("div",{className:ee.a.container,children:[Object(O.jsx)(y,{open:c,children:Object(O.jsx)(M,{close:a})}),Object(O.jsx)(h.a,{className:ee.a.addItem,variant:"contained",color:"primary",onClick:a,children:"+ Add item"}),Object(O.jsx)("span",{className:ee.a.tableContainer,children:Object(O.jsx)(K,{columns:te,items:e.deliveryItems,actionLabel:"Archive",actionFunc:function(t){e.archiveItem(t)},showPagination:!0})})]})})),ne=r(89),ce=r.n(ne),ie=[{id:"itemName",label:"Item name",minWidth:170},{id:"storeName",label:"Store name",minWidth:100},{id:"price",label:"Price",minWidth:170,format:function(e){return"$".concat(e)}},{id:"deliveryEstimation",label:"Delivery estimation",minWidth:170},{id:"action",label:"Action",minWidth:170,align:"right"}],ae=Object(g.b)((function(e){return{archivedItems:e.productsReducer.archivedItems}}),(function(e){return{reactiveItem:function(t){return e(k(t))}}}))((function(e){return Object(O.jsx)("div",{className:ce.a.container,children:Object(O.jsx)(K,{columns:ie,items:e.archivedItems,actionLabel:"Reactive",actionFunc:function(t){e.reactiveItem(t)},showPagination:!0})})})),oe=r(90),se=r.n(oe),ue=function(){var e=Object(n.useState)("delivery"),t=Object(l.a)(e,2),r=t[0],c=t[1];return Object(O.jsxs)("div",{className:se.a.container,children:[Object(O.jsx)(v,{changeCurrentTab:function(e){c(e)},currentTab:r}),"delivery"===r&&Object(O.jsx)(re,{}),"archiveItems"===r&&Object(O.jsx)(ae,{})]})},de=r(70),le=r(71),me=r.n(le),je=[{id:"storeName",label:"Store name",minWidth:100},{id:"quantity",label:"Quantity",minWidth:170},{id:"price",label:"Price",minWidth:170,format:function(e){return"$".concat(e)}}],be=Object(g.b)((function(e){return{archivedItems:e.productsReducer.archivedItems,deliveryItems:e.productsReducer.deliveryItems,currency:e.currencyReducer.currency,ratioILS:e.currencyReducer.ratioILS}}),(function(e){return{reactiveItem:function(t){return e(k(t))}}}))((function(e){var t=Object(n.useState)([]),r=Object(l.a)(t,2),c=r[0],i=r[1];return Object(n.useEffect)((function(){i(function(e,t){var r,n={},c=Object(de.a)(e);try{for(c.s();!(r=c.n()).done;){var i=r.value;n[i.storeName]?(n[i.storeName].quantity++,console.log(i.price,"item.price"),n[i.storeName].price+=i.price):n[i.storeName]={quantity:1,price:i.price}}}catch(u){c.e(u)}finally{c.f()}var a,o=Object(de.a)(t);try{for(o.s();!(a=o.n()).done;){var s=a.value;n[s.storeName]?(n[s.storeName].quantity++,console.log(s.price,"item.price"),n[s.storeName].price+=s.price):n[s.storeName]={quantity:1,price:s.price}}}catch(u){o.e(u)}finally{o.f()}return Object.keys(n).map((function(e){return n[e].storeName=e,n[e]}))}(e.archivedItems,e.deliveryItems))}),[e.archivedItems,e.deliveryItems,e.currency]),Object(O.jsxs)("div",{className:me.a.container,children:[Object(O.jsx)(K,{columns:je,items:c}),Object(O.jsxs)("div",{className:me.a.summery,children:["Total Price:",(c.reduce((function(e,t){return e+t.price}),0)*("\u20aa"===e.currency?e.ratioILS:1)).toFixed(2),e.currency]})]})})),pe=r(91),he=r.n(pe),Oe=function(e){return Object(O.jsx)(y,{open:e.currencyError||e.productsError,children:Object(O.jsxs)("div",{className:he.a.container,children:[e.currencyError?Object(O.jsx)("h1",{children:"Currency api had a problem"}):null,e.productsError?Object(O.jsx)("h1",{children:"Products api had a problem"}):null,Object(O.jsx)("h1",{children:"please try again later"})]})})},ve=r(62),fe=r.n(ve),ye=Object(g.b)((function(e){return{currency:e.currencyReducer.currency}}),(function(e){return{changeCurrency:function(t){return e(function(e){return{type:T,currency:e}}(t))}}}))((function(e){return Object(O.jsx)("div",{children:Object(O.jsx)(b.a,{position:"static",children:Object(O.jsxs)(p.a,{children:[Object(O.jsx)(h.a,{className:fe.a.navigationButton,children:Object(O.jsx)(u.b,{to:"/",children:"Purchase by item"})}),Object(O.jsx)(h.a,{className:fe.a.navigationButton,children:Object(O.jsx)(u.b,{exact:!0,to:"/purchaseByStore",children:"Purchase by stores"})}),Object(O.jsxs)(H.a,{className:fe.a.dropdown,value:e.currency,onChange:function(t){e.changeCurrency(t.target.value)},children:[Object(O.jsx)(U.a,{value:"$",children:"$"}),Object(O.jsx)(U.a,{value:"\u20aa",children:"\u20aa"})]})]})})})})),xe=Object(d.g)(Object(g.b)((function(e){return{productsError:e.productsReducer.error,currencyError:e.currencyReducer.error}}),(function(e){return{fetchProducts:function(){return e(F())},fetchCurrency:function(){return e(D())}}}))((function(e){return Object(n.useEffect)((function(){e.fetchProducts(),e.fetchCurrency()}),[e]),Object(O.jsx)("div",{className:s.a.App,children:Object(O.jsxs)(u.a,{children:[Object(O.jsx)(ye,{}),Object(O.jsx)(Oe,{currencyError:e.currencyError,productsError:e.productsError}),Object(O.jsxs)(d.d,{children:[Object(O.jsx)(d.b,{path:"/purchaseByItem",exact:!0,component:ue}),Object(O.jsx)(d.b,{path:"/purchaseByStore",component:be}),Object(O.jsx)(d.a,{to:"purchaseByItem"})]})]})})}))),Ie=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,185)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),i(e),a(e)}))},_e=r(49),ge=r(92),Ne=r(32),Ce={products:[],deliveryItems:[],archivedItems:[],error:!1},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(x.a)(Object(x.a)({},e),{},{products:t.products.data});case R:return Object(x.a)(Object(x.a)({},e),{},{error:!0});case E:return Object(x.a)(Object(x.a)({},e),{},{deliveryItems:[].concat(Object(Ne.a)(e.deliveryItems),[t.item])});case A:var r=e.deliveryItems[t.itemIndex];return Object(x.a)(Object(x.a)({},e),{},{deliveryItems:[].concat(Object(Ne.a)(e.deliveryItems.slice(0,t.itemIndex)),Object(Ne.a)(e.deliveryItems.slice(t.itemIndex+1))),archivedItems:[].concat(Object(Ne.a)(e.archivedItems),[r])});case P:var n=e.archivedItems[t.itemIndex];return Object(x.a)(Object(x.a)({},e),{},{archivedItems:[].concat(Object(Ne.a)(e.archivedItems.slice(0,t.itemIndex)),Object(Ne.a)(e.archivedItems.slice(t.itemIndex+1))),deliveryItems:[].concat(Object(Ne.a)(e.deliveryItems),[n])});default:return e}},Re={currency:"$",ratioILS:null,error:!1},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(x.a)(Object(x.a)({},e),{},{ratioILS:t.ratio});case L:return Object(x.a)(Object(x.a)({},e),{},{error:!0});case T:return Object(x.a)(Object(x.a)({},e),{},{currency:t.currency});default:return e}},Ae=_e.c,Pe=Object(_e.b)({productsReducer:Se,currencyReducer:Ee}),we=Object(_e.d)(Pe,Ae(Object(_e.a)(ge.a)));a.a.render(Object(O.jsx)(g.a,{store:we,children:Object(O.jsx)(u.a,{children:Object(O.jsx)(xe,{})})}),document.getElementById("root")),Ie()},27:function(e,t,r){e.exports={container:"AddItem_container__2kM1d",form:"AddItem_form__2eIS-",buttonsContainer:"AddItem_buttonsContainer__23ygu",dropdown:"AddItem_dropdown__X9pZo",dropdownOption:"AddItem_dropdownOption__3qmu7",dropdownOptionLeft:"AddItem_dropdownOptionLeft__2p6bH",dropdownOptionRight:"AddItem_dropdownOptionRight__2iAsE",error:"AddItem_error__Yn5ZR"}},61:function(e,t,r){e.exports={container:"delivery_container__23irX",addItem:"delivery_addItem__iTBCj",tableContainer:"delivery_tableContainer__czHe2"}},62:function(e,t,r){e.exports={navigationButton:"Navbar_navigationButton__1eFfL",dropdown:"Navbar_dropdown__3iKbc"}},68:function(e,t,r){e.exports={activeTab:"Navbar_activeTab__1Y4H2"}},71:function(e,t,r){e.exports={container:"PurchaseByStore_container__1OxnX",summery:"PurchaseByStore_summery__Iq1Pt"}},84:function(e,t,r){e.exports={App:"App_App__2VA0i","App-logo":"App_App-logo__3FI5P","App-logo-spin":"App_App-logo-spin__29RPu","App-header":"App_App-header__39imi","App-link":"App_App-link__2Suvc"}},89:function(e,t,r){e.exports={container:"Archive_container__1ORpw"}},90:function(e,t,r){e.exports={container:"PurchaseByItem_container__tOk3I"}},91:function(e,t,r){e.exports={container:"ErrorModal_container__3by3S"}}},[[132,1,2]]]);
//# sourceMappingURL=main.082a1d2e.chunk.js.map